<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta name="format-detection" content="telephone=no">
	<title>百科全会</title>
	<script type="text/javascript" src="js/hb.js"></script>
	<link rel="stylesheet" type="text/css" href="css/index.css?v=1234554">
	<link rel="stylesheet" type="text/css" href="css/animate.css">
	
</head>
<body>
	
	<div class="main_box">
		<div class="start">
			<div class="music_btn">
			<img src="img/music_pause.png" class="paused_img">
			<img src="img/music_play.png" class="play_img">

				<audio src="horse.mp3" autoplay="true" loop="true"/>
			</div>
			<div class="more_btn">
				<img src="img/more.png">
			</div>
			<div class="blank_2"></div>
			<div class="blank_2"></div>
			<div class="banner">
				<img src="img/game_title.png">
			</div>
			<!-- <div  class="blank_2"></div> -->
			<div class="btn_wrap">
				<img src="img/game_start.png" id="game_start_btn">
			</div>
			<div class="blank_5"></div>
			<div class="role_icon">
				<img src="img/baby_icon.png">
				<img src="img/parent_icon.png">
			</div>
		</div>
		<!-- 开始答题 -->
		<div class="question_box model_wrap">
			<img src="img/ques_bg.png">
			<div class="question_content">
				<div id="question"></div>
				<div class="answer_btn_wrap" >
					<span class="answer_btn answer_btna" ></span>
				</div>
				<div class="answer_btn_wrap">
					<span class="answer_btn answer_btnb"></span>
				</div>
				
			</div>
			<img src="img/parent_icon.png" id="parent_icon" >

		</div>
		<!-- //挑战成功 -->
		<div id="sucess" class="model_wrap">
			<img src="img/game_sucess.png">
			<div class="sucess_inner" >
				<div class="btn_wrap" >
					<img src="img/mark.jpg" id="mark2">
					<img src="img/play_again.png" class="play_again sucess_play_again" >
				</div>
			</div>
			<img src="img/baby_icon2.png" id="baby_icon"  >
		</div>
		<!-- 挑战失败 -->
		<div id="fail"  class="model_wrap" >
			<img src="img/game_fail.png">
			<div class="fail_inner">
				<div class="btn_wrap h_18">
					<img src="img/play_again.png" class="play_again" >
				</div>
				<img src="img/game_loser.png" id="loser" >
			</div>

		</div>
		<!-- 查看更多 -->
		<div id="look_more" class="model_wrap" >
			<img src="img/game_more.png">
			<div class="look_more_inner">
				<div class="btn_wrap">
					<img src="img/mark.jpg" id="mark" >
				</div>
				<img src="img/rabbit.png" id="rabbit" >

			</div>
			<img src="img/cancel_box.png"  id="cancel_box">
		</div>
		
		
	</div>
</body>
<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
<script type="text/javascript">

		var obj={};
		obj.count=0;
		var isFist=true;
		var quesarr=[{question:'交通信号灯有几种颜色',correctanswer:"红黄绿",answerOne:"红黄绿",answerTwo:'红绿蓝'},
				{question:'我国的火警电话是',correctanswer:"119",answerOne:"110",answerTwo:'119'},
				{question:'汽车能超速行驶吗',correctanswer:"不能",answerOne:"能",answerTwo:'不能'},
				{question:'行人必须在什么地方行走',correctanswer:"人行道",answerOne:"马路上",answerTwo:'人行道'},
				{question:'家里没有人,当陌生人敲门时,能随便开门吗',correctanswer:"不能",answerOne:"能",answerTwo:'不能'},
				{question:'太阳在哪个方向升起',correctanswer:"东",answerOne:"西",answerTwo:'东'},
				{question:'人一共有多少只手指',correctanswer:"10只",answerOne:"5只",answerTwo:'10只'},
				{question:'一天有多少个小时',correctanswer:"24个小时",answerOne:"48个小时",answerTwo:'24个小时'},
				{question:'我国的国旗叫作',correctanswer:"五星红旗",answerOne:"六星红旗",answerTwo:'五星红旗'},
				{question:'见到老师应该说什么',correctanswer:"老师好",answerOne:"老师坏",answerTwo:'老师好'},
				{question:'爸爸的爸爸叫什么',correctanswer:"爷爷",answerOne:"老爸",answerTwo:'爷爷'},
				{question:'中国最长的江叫什么',correctanswer:"长江",answerOne:"黄河",answerTwo:'长江'},
				{question:'中国的首都是哪里',correctanswer:"北京",answerOne:"长安",answerTwo:'北京'},
				{question:'孙悟空的二师弟是谁',correctanswer:"猪八戒",answerOne:"猪八戒",answerTwo:'沙和尚'},
				{question:'中国的国庆节是哪一天',correctanswer:"十月一日",answerOne:"七月一日",answerTwo:'十月一日'},
				{question:'长着长鼻子的是什么动物',correctanswer:"大象",answerOne:"大象",answerTwo:'长颈鹿'},
				{question:'一年有几个季节',correctanswer:"4个",answerOne:"3个",answerTwo:'4个'},
				{question:'轮船在哪里行驶',correctanswer:"水上",answerOne:"水上",answerTwo:'陆地上'},
				{question:'时钟上面有几个数字',correctanswer:"12个",answerOne:"100个",answerTwo:'12个'},
				{question:'小蝌蚪长大了会变成什么',correctanswer:"青蛙",answerOne:"青蛙",answerTwo:'老虎'}
		]


		var audio=document.getElementsByTagName("audio")[0];

		window.onload=function(){
			$(".music_btn").on("click",function(){
				if(audio.paused)
				{
					$(".paused_img").css({
						zIndex:0
					})
					audio.play();
				}else{
					audio.pause();
					$(".paused_img").css({
						zIndex:2
					})
				}
				
			})
		}
		

        setTimeout(function(){
           $(document).scrollTop(0);
            $('.music_btn').click();
        },0);


		$("#game_start_btn").on("click",function(){


			$(this).parents(".start").hide();
			$(".question_box").show();

			
				var quesIndex=arrRandom();
				$("#question").html(obj.count+"."+quesarr[quesIndex].question);

				if(quesarr[quesIndex].answerOne==quesarr[quesIndex].correctanswer)
				{
					$(".answer_btna").attr("isTrue","true")
					$(".answer_btnb").attr("isTrue","false")
				}else{
					$(".answer_btna").attr("isTrue","false")
					$(".answer_btnb").attr("isTrue","true")
				}
				$(".answer_btna").html(quesarr[quesIndex].answerOne);
				$(".answer_btnb").html(quesarr[quesIndex].answerTwo);

			
		})
		$(".more_btn").on("click",function(){
			$(this).parents(".start").hide();
			$("#look_more").show();
		})

		$("#cancel_box").on("click",function(){

			$("#look_more").hide();
				$(".start").show();
		})

		$(".answer_btn").on("click",function(){
			console.log(obj);
			if($(this).attr("isTrue")=="false")
			{
				$(".question_box").hide();
				$("#fail").show();
				return false
			}


			if(obj.count>=10)
			{
				//答对10道
				$(".question_box").hide();
				$("#sucess").show();
				return
			}

			var quesIndex=arrRandom();
			$("#question").html(obj.count+"."+quesarr[quesIndex].question);
			if(quesarr[quesIndex].answerOne==quesarr[quesIndex].correctanswer)
			{
				$(".answer_btna").attr("isTrue","true")
				$(".answer_btnb").attr("isTrue","false")
			}else{
				$(".answer_btna").attr("isTrue","false")
				$(".answer_btnb").attr("isTrue","true")
			}
			$(".answer_btna").html(quesarr[quesIndex].answerOne);
			$(".answer_btnb").html(quesarr[quesIndex].answerTwo);

			$(".question_content").addClass("animated zoomIn");
			setTimeout(function(){
				$(".question_content").removeClass("zoomIn");
			},500)
		
		})

	
			

			
		function arrRandom(){
			
			var random=Math.floor(Math.random()*20);
			if(obj[random]==1)
			{
				return arrRandom();	
			}else{
				obj[random]=1;
				(obj.count)++;
			
				return random;
			}
			
			//每次点击回答生成一个题目随机生成一个数组下标;
		}
		// 再玩一把

		$(".play_again").on("click",function(){

			$(this).parents(".model_wrap").hide();
			isFist=false;

			for(var key in obj)
			{
				delete obj[key]
			}
		
			obj.count=0;
			$("#game_start_btn").click();
			

		})




</script>
</html>